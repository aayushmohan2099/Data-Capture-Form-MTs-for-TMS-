{% extends "main/base.html" %}
{% block title %}Rejected submissions{% endblock %}
{% block content %}
<style>
/* reuse same visual system but different accent */
:root {
  --card-bg: #ffffff;
  --accent-danger: #6b1a1a;
  --muted: #556;
  --row-hover: rgba(107,26,26,0.06);
  --border: rgba(107,26,26,0.06);
}

.table-card {
  max-width: 1100px;
  margin: 10px auto 60px;
  background: var(--card-bg);
  border-radius: 10px;
  padding: 18px;
  box-shadow: 0 8px 20px rgba(8,19,30,0.04);
  border: 1px solid var(--border);
}

.modern-table {
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

.modern-table thead th {
  background: linear-gradient(180deg,#fff1f1,#fbe8e8);
  color: var(--accent-danger);
  font-weight:700;
  text-align:left;
  padding:12px 14px;
  border-bottom:1px solid rgba(0,0,0,0.05);
}

.modern-table tbody td {
  padding:12px 14px;
  border-bottom: 1px solid rgba(0,0,0,0.03);
  color:#111;
}

.modern-table tbody tr:hover {
  background: var(--row-hover);
}

.modern-table tbody tr:nth-child(even) td {
  background: rgba(107,26,26,0.02);
}

/* responsive */
@media (max-width:800px) {
  .modern-table thead { display:none; }
  .modern-table, .modern-table tbody, .modern-table tr, .modern-table td { display:block; width:100%; }
  .modern-table td::before { content: attr(data-label); display:block; font-weight:700; color:#666; margin-bottom:6px; }
}
</style>

<div class="table-card">
  <h2>Submissions you rejected</h2>

  <table class="modern-table" role="table" aria-label="Rejected submissions">
    <thead>
      <tr>
        <th>Submission</th>
        <th>Trainer</th>
        <th>Submitted at</th>
        <th>Reason</th>
      </tr>
    </thead>
    <tbody>
      {% for s in submissions %}
        <tr>
          <td data-label="Submission">{{ s.pk }}</td>
          <td data-label="Trainer">{{ s.trainer.full_name }} â€” {{ s.trainer.mobile_no }}</td>
          <td data-label="Submitted at">{{ s.submitted_at }}</td>
          <td data-label="Reason">{{ s.rejection_reason|default:"-" }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="4" style="padding:12px; color:#444;">No rejected submissions found.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
