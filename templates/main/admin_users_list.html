{% extends "main/base.html" %}
{% block title %}Users - Account Manager{% endblock %}

{% block content %}
<style>
.table-wrapper {
  overflow:auto;
  border:1px solid #e0e6ee;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  border-radius:6px;
  margin-bottom: 46px;
}
.styled-table {
  width:100%;
  border-collapse:collapse;
  min-width:900px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
.styled-table thead {
  background:#2f6ba3;
  color:white;
}
.styled-table thead th {
  padding:12px 10px;
  text-align:left;
  font-weight:700;
}
.styled-table tbody td {
  padding:10px 8px;
  border-top:1px solid #f0f4fb;
  color:#111;
}
.styled-table tbody tr.hoverable:hover {
  background:#f4f8ff;
}
.action-btn {
  display:inline-block;
  padding:6px 10px;
  background:#fff;
  color:#083355;
  border-radius:4px;
  text-decoration:none;
  border:1px solid rgba(0,0,0,0.06);
}
@media (max-width:800px) {
  .styled-table thead { display:none; }
  .styled-table, .styled-table tbody, .styled-table tr, .styled-table td { display:block; width:100%; }
  .styled-table tr { margin-bottom:12px; }
  .styled-table td { padding:8px 10px; position:relative; }
  .styled-table td::before { content: attr(data-label); display:block; font-weight:700; color:#556; margin-bottom:6px; }
}
</style>

<h1 style="margin-bottom:8px;">Users (Account Manager)</h1>
<p style="margin-bottom:14px;">
  <a class="btn" href="{% url 'admin_user_create' %}">Create new user</a>
</p>

<div class="table-wrapper">
  <table class="styled-table" role="table" aria-label="Users list">
    <thead>
      <tr>
        <th>Username</th>
        <th>Role</th>
        <th>Mobile</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for u in users %}
        <tr class="hoverable">
          <td data-label="Username">{{ u.username }}</td>
          <td data-label="Role">{{ u.get_role_display }}</td>
          <td data-label="Mobile">{{ u.mobile }}</td>
          <td data-label="Email">{{ u.email }}</td>
          <td data-label="Actions">
            <a class="action-btn" href="{% url 'admin_user_edit' u.pk %}">Edit</a>
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="5" style="padding:12px;">No users found.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
